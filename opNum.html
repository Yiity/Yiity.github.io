<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Yiity" content="">
  <title>10以内加法练习</title>
  <style type="text/css">
	h1{
		text-align:center;
		font-size:3em;
	}
	div{
		margin:30px;
		text-align:center;
		font-size:2em;
	}
	input{
		width:50px;
		height:40px;
		font-size:30px;
		margin:20px;
		text-align:center;
	}
	#answer input:hover{
		color:blue;
	}
  </style>
 </head>
 <body>
	<h1>加法练习器</h1>
	<div id = "question" >
		<input id = "opNum1">
		<span > + </span>
		<input id = "opNum2">
		<span > = </span>
	</div>
	<div id = "answer" >
		A. <input type = "button" id = "answerA" value = "">
		B. <input type = "button" id = "answerB" value = "">
		C. <input type = "button" id = "answerC" value = "">
		D. <input type = "button" id = "answerD" value = "">
	</div>

	<script type="text/javascript">
		/*将answer中的input抓取在answerDoms数组中*/
		var answerDoms = document.querySelectorAll("div#answer input ");
		var opNum1Dom = document.querySelector("input#opNum1");
		var opNum2Dom = document.querySelector("input#opNum2");

		tryNext();

		function tryNext(){
			/*生成两个随机数并放入题目中*/
			var opNum1 = parseInt (10 * Math.random ());
			var opNum2 = parseInt (10 * Math.random ());
			opNum1Dom.value = opNum1;
			opNum2Dom.value = opNum2;						

			/*for循环生成随机答案赋给answerABCD*/
			//面对宏观问题，本例演示数组类的indexOf方法，带来的便利
			function getIntegerArr(n){
				function getRandInt(){
	 				var integer = Math.floor(Math.random() * 20 ) ;
					while (integer == opNum1 + opNum2)
					{
						integer = getRandInt();
					}
					return integer;						
				};//end of getRanInt()	

				var integerArr = [getRandInt()] ;	
				for(var i=1; i < n ; i++){
					var inte= getRandInt() ;	
					while ( integerArr.indexOf(inte) !== -1 ) {
					inte = getRandInt() ;   
					}		
				integerArr[i] = inte ;
				}
				return integerArr ;			
			} //End of  function getIntegerArr(n)

		var random = (getIntegerArr(4));
		for (var i=0 ; i<4 ; i++ ){
			answerDoms[i].value = random[i];
		}		

		for (var i=0 ; i<4 ; i++ ){
			/*设置每个答案的点击结果，正确弹出Right，错误弹出Wrong*/		
			answerDoms[i].onclick = function(){
				var right = opNum1 + opNum2;
				var sel = parseInt(this.value);
				if (sel == right)
				{
					alert("Right!");
					tryNext();
				} else{
					alert("Wrong! Please try again.");
				}
			};
		}			
		

		/*使正确答案在ABCD中随机显示*/
		var ram = parseInt (4 * Math.random ());
		if (ram == 0){
			answerDoms[0].value = opNum1 + opNum2;
		}else if(ram == 1){
			answerDoms[1].value = opNum1 + opNum2;	
		}else if(ram == 2){
			answerDoms[2].value = opNum1 + opNum2;
		}else if(ram == 3){
			answerDoms[3].value = opNum1 + opNum2;
		}	

	} ;//tryNext()结束

	
	</script>

 </body>
</html>
